# 📊 仪表盘功能说明

## 概述

BuildMaster 后端管理系统的仪表盘已升级为完全基于真实数据的可视化统计平台，包含多种图表展示和实时数据监控。

## ✨ 主要功能

### 1. 统计卡片
显示4个关键指标：
- **总用户数** - 系统注册用户总数
- **配件总数** - 配件库中的配件总量
- **配置单数** - 用户创建的配置单总数
- **今日注册** - 当天新注册的用户数

每个卡片都包含：
- 📈 趋势指标（增长百分比）
- 🎨 独特的渐变色图标
- 💫 悬停动画效果

### 2. 图表统计

#### 注册趋势（最近7天）
- **图表类型**: 折线图
- **数据来源**: 最近7天每日新注册用户数
- **用途**: 监控用户增长趋势

#### 配件添加趋势（最近7天）
- **图表类型**: 折线图
- **数据来源**: 最近7天每日新增配件数
- **用途**: 了解配件库的更新频率

#### 配件类型分布
- **图表类型**: 饼图
- **数据来源**: 各类型配件的数量统计
- **用途**: 查看配件库的组成结构
- **类型包括**: CPU、GPU、主板、内存、硬盘、电源、机箱等

#### 库存状态
- **图表类型**: 饼图
- **数据来源**: 配件库存状态统计
- **分类**:
  - 🟢 充足（库存 ≥ 10）
  - 🟡 不足（0 < 库存 < 10）
  - 🔴 缺货（库存 = 0）

#### 价格区间分布
- **图表类型**: 柱状图
- **数据来源**: 配件价格分布统计
- **区间**:
  - 0-500元
  - 500-1000元
  - 1000-2000元
  - 2000-5000元
  - 5000元以上

#### 热门品牌 TOP5
- **图表类型**: 横向柱状图
- **数据来源**: 配件品牌数量排名
- **用途**: 了解最受欢迎的品牌

## 🚀 快速开始

### 1. 启动后端服务
```bash
cd BuildMaster-API
mvn spring-boot:run
```

### 2. 启动前端服务
```bash
cd BuildMaster-UI
npm run dev
```

### 3. 访问仪表盘
打开浏览器访问：`http://localhost:3000/admin`

## 📡 API 接口

### 获取仪表盘统计数据

**接口地址**: `GET /api/admin/dashboard/stats`

**响应示例**:
```json
{
  "success": true,
  "message": "获取统计数据成功",
  "data": {
    "totalUsers": 128,
    "totalComponents": 456,
    "totalConfigs": 89,
    "todayRegistrations": 12,
    "componentTypeDistribution": {
      "CPU": 45,
      "GPU": 38,
      "MOTHERBOARD": 52,
      "MEMORY": 67,
      "STORAGE": 89,
      "POWER_SUPPLY": 34,
      "CASE": 28,
      "COOLER": 43
    },
    "priceRangeDistribution": {
      "0-500": 123,
      "500-1000": 156,
      "1000-2000": 98,
      "2000-5000": 67,
      "5000+": 12
    },
    "registrationTrend": [
      { "date": "10-15", "count": 8 },
      { "date": "10-16", "count": 12 },
      { "date": "10-17", "count": 15 },
      { "date": "10-18", "count": 10 },
      { "date": "10-19", "count": 14 },
      { "date": "10-20", "count": 18 },
      { "date": "10-21", "count": 20 }
    ],
    "componentTrend": [
      { "date": "10-15", "count": 5 },
      { "date": "10-16", "count": 8 },
      { "date": "10-17", "count": 12 },
      { "date": "10-18", "count": 7 },
      { "date": "10-19", "count": 10 },
      { "date": "10-20", "count": 15 },
      { "date": "10-21", "count": 13 }
    ],
    "topBrands": [
      { "brand": "Intel", "count": 45 },
      { "brand": "AMD", "count": 38 },
      { "brand": "NVIDIA", "count": 35 },
      { "brand": "Kingston", "count": 28 },
      { "brand": "Samsung", "count": 25 }
    ],
    "stockStats": {
      "inStock": 345,
      "lowStock": 89,
      "outOfStock": 22
    }
  }
}
```

## 🎨 技术特性

### 前端技术
- **Next.js 14** - React 框架
- **Recharts** - 数据可视化图表库
- **Tailwind CSS** - 样式框架
- **Axios** - HTTP 客户端

### 后端技术
- **Spring Boot** - Java 后端框架
- **JPA/Hibernate** - 数据持久化
- **MySQL** - 数据库

### 图表特性
- ✅ 响应式设计，自适应各种屏幕尺寸
- ✅ 交互式提示框
- ✅ 平滑动画效果
- ✅ 自定义颜色主题
- ✅ 实时数据更新

## 📊 数据说明

### 趋势百分比计算
卡片上的趋势百分比（如 +12.5%）是示例数据，实际应用中可以：
- 与上周同期对比
- 与上月同期对比
- 与设定的目标值对比

### 库存分类标准
- **充足**: `stockQuantity >= 10`
- **不足**: `0 < stockQuantity < 10`
- **缺货**: `stockQuantity = 0 或 null`

### 价格区间
根据电脑配件市场的常见价格范围设定，可根据实际情况调整。

## 🔄 数据更新

仪表盘数据在以下情况下自动更新：
1. 页面首次加载时
2. 用户手动刷新页面时

**建议**: 未来可添加自动刷新功能，如每30秒刷新一次。

## 🎯 应用场景

### 运营管理
- 监控用户增长趋势
- 了解每日活跃度
- 评估营销活动效果

### 库存管理
- 实时查看库存状态
- 及时补充低库存配件
- 优化配件采购策略

### 数据分析
- 分析配件类型偏好
- 了解价格区间分布
- 识别热门品牌

## 🛠️ 自定义配置

### 修改图表颜色
在 `BuildMaster-UI/src/app/admin/page.tsx` 中修改 `COLORS` 数组：
```typescript
const COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#14b8a6'];
```

### 修改价格区间
在 `BuildMaster-API/src/main/java/com/buildmaster/service/DashboardService.java` 中修改 `getPriceRangeDistribution` 方法。

### 修改库存阈值
在 `DashboardService.java` 的 `getStockStats` 方法中修改库存判断条件。

## 📝 注意事项

1. **首次使用**: 如果数据库中没有数据，图表可能为空或显示0值
2. **性能优化**: 大量数据时，考虑添加缓存机制
3. **时区设置**: 确保服务器和数据库时区一致
4. **数据准确性**: 定期检查统计数据的准确性

## 🚧 未来计划

- [ ] 添加自动刷新功能
- [ ] 支持自定义时间范围
- [ ] 添加数据导出功能
- [ ] 支持更多图表类型
- [ ] 添加配置单分析统计
- [ ] 实现实时数据推送
- [ ] 添加数据对比功能

## 📞 技术支持

如有问题，请查看：
- 后端日志: `BuildMaster-API/logs`
- 前端控制台: 浏览器开发者工具
- API 文档: `http://localhost:8080/swagger-ui.html`

