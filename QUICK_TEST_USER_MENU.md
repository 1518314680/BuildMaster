# ç”¨æˆ·èœå•åŠŸèƒ½å¿«é€Ÿæµ‹è¯•æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3åˆ†é’Ÿæµ‹è¯•ï¼‰

### æ–¹æ³•1ï¼šæ¨¡æ‹Ÿç™»å½•æµ‹è¯•ï¼ˆæ¨èï¼Œæœ€å¿«ï¼‰

1. **å¯åŠ¨å‰ç«¯**
   ```bash
   cd BuildMaster-UI
   npm run dev
   ```

2. **è®¿é—®ç™»å½•é¡µé¢**
   ```
   http://localhost:3000/login
   ```

3. **æ¨¡æ‹Ÿç™»å½•**
   - è¾“å…¥ä»»æ„é‚®ç®±ï¼š`test@example.com`
   - è¾“å…¥ä»»æ„å¯†ç ï¼š`123456`
   - ç‚¹å‡» "ç™»å½•"
   - ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨æ¨¡æ‹Ÿç™»å½•

4. **æŸ¥çœ‹ç”¨æˆ·èœå•**
   - å³ä¸Šè§’åº”è¯¥æ˜¾ç¤ºï¼š`[ğŸ‘¤ æµ‹è¯•ç”¨æˆ· â–¼]`
   - ç‚¹å‡»æŸ¥çœ‹ä¸‹æ‹‰èœå•

5. **æµ‹è¯•åŠŸèƒ½**
   - âœ… ç‚¹å‡» "ä¸ªäººä¿¡æ¯" â†’ è¿›å…¥ä¸ªäººä¸­å¿ƒ
   - âœ… ä¿®æ”¹æ˜¾ç¤ºåç§° â†’ ä¿å­˜ â†’ æŸ¥çœ‹å³ä¸Šè§’æ˜¯å¦æ›´æ–°
   - âœ… ç‚¹å‡» "é€€å‡ºç™»å½•" â†’ è¿”å›é¦–é¡µ â†’ å³ä¸Šè§’æ¢å¤ä¸º"ç™»å½•"å’Œ"æ³¨å†Œ"

### æ–¹æ³•2ï¼šå®Œæ•´æ³¨å†Œç™»å½•æµ‹è¯•

1. **å‡†å¤‡åç«¯ç¯å¢ƒ**
   ```bash
   # å¯åŠ¨Redis
   docker run -d -p 6379:6379 redis
   
   # è®¾ç½®é‚®ç®±æˆæƒç 
   $env:MAIL_PASSWORD="ä½ çš„QQé‚®ç®±æˆæƒç "
   
   # å¯åŠ¨åç«¯
   cd BuildMaster-API
   mvn spring-boot:run
   ```

2. **å¯åŠ¨å‰ç«¯**
   ```bash
   cd BuildMaster-UI
   npm run dev
   ```

3. **æ³¨å†Œæ–°ç”¨æˆ·**
   ```
   http://localhost:3000/register
   ```
   - å¡«å†™ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç 
   - ç‚¹å‡» "å‘é€éªŒè¯ç "
   - æŸ¥æ”¶é‚®ç®±è·å–éªŒè¯ç 
   - è¾“å…¥éªŒè¯ç å¹¶å®Œæˆæ³¨å†Œ
   - **æ³¨å†ŒæˆåŠŸåä¼šè‡ªåŠ¨ç™»å½•ï¼**

4. **æŸ¥çœ‹ç”¨æˆ·èœå•**
   - å³ä¸Šè§’æ˜¾ç¤ºä½ çš„æ˜¾ç¤ºåç§°
   - ç‚¹å‡»æŸ¥çœ‹ä¸‹æ‹‰èœå•

## ğŸ“¸ é¢„æœŸæ•ˆæœæˆªå›¾è¯´æ˜

### æœªç™»å½•çŠ¶æ€
```
å¯¼èˆªæ å³ä¾§ï¼š
[æ ¸å¿ƒåŠŸèƒ½] [AIå¤§å¸ˆ] [å¼€å§‹è£…æœº] [ç™»å½•] [æ³¨å†Œ]
                                  ^^^^   ^^^^
```

### å·²ç™»å½•çŠ¶æ€
```
å¯¼èˆªæ å³ä¾§ï¼š
[æ ¸å¿ƒåŠŸèƒ½] [AIå¤§å¸ˆ] [å¼€å§‹è£…æœº] [ğŸ‘¤ æµ‹è¯•ç”¨æˆ· â–¼]
                               ^^^^^^^^^^^^^
```

### ç”¨æˆ·èœå•å±•å¼€
```
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ ç™»å½•ä¸º                      â”‚
                        â”‚ æµ‹è¯•ç”¨æˆ·                    â”‚
                        â”‚ test@example.com            â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚ ğŸ‘¤ ä¸ªäººä¿¡æ¯                 â”‚
                        â”‚ ğŸ–¥ï¸ æˆ‘çš„è£…æœº                 â”‚
                        â”‚ ğŸ’¡ AI æ¨è                  â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚ ğŸšª é€€å‡ºç™»å½•  (çº¢è‰²)         â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸ªäººä¸­å¿ƒé¡µé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å¤´åƒ]                                      â”‚
â”‚   O     ä¸ªäººä¸­å¿ƒ                             â”‚
â”‚        æµ‹è¯•ç”¨æˆ·                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [åŸºæœ¬ä¿¡æ¯] [ä¿®æ”¹å¯†ç ]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  ç”¨æˆ·å:  [testuser        ]                â”‚
â”‚  é‚®ç®±:    test@example.com (ä¸å¯ä¿®æ”¹)       â”‚
â”‚  æ˜¾ç¤ºåç§°: [æµ‹è¯•ç”¨æˆ·       ]                â”‚
â”‚                                              â”‚
â”‚          [ä¿å­˜ä¿®æ”¹]                          â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… æµ‹è¯•æ¸…å•

### 1. ç™»å½•åŠŸèƒ½
- [ ] æœªç™»å½•æ—¶æ˜¾ç¤º "ç™»å½•" å’Œ "æ³¨å†Œ" æŒ‰é’®
- [ ] ç™»å½•åæ˜¾ç¤ºç”¨æˆ·èœå•
- [ ] ç”¨æˆ·èœå•æ˜¾ç¤ºæ­£ç¡®çš„æ˜¾ç¤ºåç§°

### 2. ç”¨æˆ·èœå•
- [ ] ç‚¹å‡»ç”¨æˆ·èœå•æŒ‰é’®ï¼Œä¸‹æ‹‰èœå•å±•å¼€
- [ ] æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ï¼ˆåç§°å’Œé‚®ç®±ï¼‰
- [ ] ç‚¹å‡»å¤–éƒ¨ï¼Œèœå•è‡ªåŠ¨å…³é—­
- [ ] æ‰€æœ‰èœå•é¡¹å¯ä»¥ç‚¹å‡»

### 3. ä¸ªäººä¿¡æ¯ä¿®æ”¹
- [ ] ç‚¹å‡» "ä¸ªäººä¿¡æ¯" è·³è½¬åˆ° `/profile`
- [ ] æ˜¾ç¤ºå½“å‰ç”¨æˆ·ä¿¡æ¯
- [ ] å¯ä»¥ä¿®æ”¹ç”¨æˆ·å
- [ ] å¯ä»¥ä¿®æ”¹æ˜¾ç¤ºåç§°
- [ ] é‚®ç®±æ˜¾ç¤ºä¸ºç°è‰²ï¼ˆä¸å¯ä¿®æ”¹ï¼‰
- [ ] ä¿å­˜åå³ä¸Šè§’å®æ—¶æ›´æ–°

### 4. å¯†ç ä¿®æ”¹
- [ ] åˆ‡æ¢åˆ° "ä¿®æ”¹å¯†ç " æ ‡ç­¾é¡µ
- [ ] å¯ä»¥è¾“å…¥å½“å‰å¯†ç 
- [ ] å¯ä»¥è¾“å…¥æ–°å¯†ç 
- [ ] æ–°å¯†ç é•¿åº¦éªŒè¯ï¼ˆè‡³å°‘6ä½ï¼‰
- [ ] ä¸¤æ¬¡å¯†ç ä¸€è‡´æ€§éªŒè¯
- [ ] æ˜¾ç¤ºæˆåŠŸæç¤º

### 5. é€€å‡ºç™»å½•
- [ ] ç‚¹å‡» "é€€å‡ºç™»å½•"
- [ ] ç”¨æˆ·èœå•æ¶ˆå¤±
- [ ] æ¢å¤æ˜¾ç¤º "ç™»å½•" å’Œ "æ³¨å†Œ" æŒ‰é’®
- [ ] è®¿é—®å—ä¿æŠ¤é¡µé¢è¢«é‡å®šå‘åˆ°ç™»å½•é¡µ

### 6. æ³¨å†Œè‡ªåŠ¨ç™»å½•
- [ ] å®Œæˆæ³¨å†Œæµç¨‹
- [ ] æ³¨å†ŒæˆåŠŸåè‡ªåŠ¨ç™»å½•
- [ ] è‡ªåŠ¨è·³è½¬åˆ°è£…æœºé¡µé¢
- [ ] å³ä¸Šè§’æ˜¾ç¤ºç”¨æˆ·èœå•

## ğŸ¯ å…³é”®åŠŸèƒ½éªŒè¯

### A. æ˜¾ç¤ºåç§°æ›´æ–°æµç¨‹

1. ç™»å½•ç³»ç»Ÿ
2. å³ä¸Šè§’æ˜¾ç¤ºï¼š`æµ‹è¯•ç”¨æˆ·`
3. ç‚¹å‡»ç”¨æˆ·èœå• â†’ ä¸ªäººä¿¡æ¯
4. ä¿®æ”¹æ˜¾ç¤ºåç§°ä¸ºï¼š`æˆ‘æ˜¯æ–°åå­—`
5. ç‚¹å‡»ä¿å­˜
6. æŸ¥çœ‹æˆåŠŸæç¤º
7. **å³ä¸Šè§’åº”è¯¥ç«‹å³æ›´æ–°ä¸ºï¼š`æˆ‘æ˜¯æ–°åå­—`**

### B. ç™»å½•çŠ¶æ€æŒä¹…åŒ–

1. ç™»å½•ç³»ç»Ÿ
2. åˆ·æ–°é¡µé¢ï¼ˆF5ï¼‰
3. **å³ä¸Šè§’ç”¨æˆ·èœå•åº”è¯¥ä¾ç„¶å­˜åœ¨**
4. å…³é—­æµè§ˆå™¨æ ‡ç­¾
5. é‡æ–°æ‰“å¼€ `http://localhost:3000`
6. **å³ä¸Šè§’ç”¨æˆ·èœå•åº”è¯¥ä¾ç„¶å­˜åœ¨**ï¼ˆ24å°æ—¶å†…ï¼‰

### C. é€€å‡ºç™»å½•æ¸…é™¤çŠ¶æ€

1. ç™»å½•ç³»ç»Ÿ
2. ç‚¹å‡»é€€å‡ºç™»å½•
3. å°è¯•è®¿é—® `/build`
4. **åº”è¯¥è¢«é‡å®šå‘åˆ°ç™»å½•é¡µ**
5. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Application â†’ Cookies
6. **`user_token` å’Œ `user_id` åº”è¯¥è¢«åˆ é™¤**

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1: ç™»å½•åå³ä¸Šè§’æ²¡æœ‰æ˜¾ç¤ºç”¨æˆ·èœå•

**æ£€æŸ¥ï¼š**
- æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Console
- æ˜¯å¦æœ‰JavaScripté”™è¯¯ï¼Ÿ
- æ£€æŸ¥ Application â†’ Local Storage â†’ æ˜¯å¦æœ‰ `auth-storage`ï¼Ÿ

**è§£å†³ï¼š**
```javascript
// åœ¨æ§åˆ¶å°æ‰‹åŠ¨è®¾ç½®ï¼ˆæµ‹è¯•ç”¨ï¼‰
localStorage.setItem('auth-storage', JSON.stringify({
  state: {
    user: {
      id: 1,
      username: 'testuser',
      email: 'test@example.com',
      displayName: 'æµ‹è¯•ç”¨æˆ·'
    },
    isAuthenticated: true
  }
}));
location.reload();
```

### é—®é¢˜2: ä¿®æ”¹æ˜¾ç¤ºåç§°åå³ä¸Šè§’æ²¡æœ‰æ›´æ–°

**æ£€æŸ¥ï¼š**
- æ˜¯å¦çœ‹åˆ°æˆåŠŸæç¤ºï¼Ÿ
- åˆ·æ–°é¡µé¢åæ˜¯å¦æ›´æ–°ï¼Ÿ

**è§£å†³ï¼š**
- æ£€æŸ¥ `useAuthStore` æ˜¯å¦æ­£ç¡®è°ƒç”¨
- æŸ¥çœ‹ Console æ˜¯å¦æœ‰é”™è¯¯

### é—®é¢˜3: é€€å‡ºç™»å½•åä¾ç„¶å¯ä»¥è®¿é—®å—ä¿æŠ¤é¡µé¢

**æ£€æŸ¥ï¼š**
- Cookie æ˜¯å¦è¢«æ¸…é™¤ï¼Ÿ
- LocalStorage æ˜¯å¦è¢«æ¸…é™¤ï¼Ÿ

**è§£å†³ï¼š**
- æ‰‹åŠ¨æ¸…é™¤æµè§ˆå™¨æ•°æ®
- æ£€æŸ¥ middleware.ts æ˜¯å¦æ­£å¸¸å·¥ä½œ

## ğŸ’¡ å¿«é€Ÿè°ƒè¯•å‘½ä»¤

### æŸ¥çœ‹å½“å‰ç™»å½•çŠ¶æ€
åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š
```javascript
// æŸ¥çœ‹localStorageä¸­çš„è®¤è¯ä¿¡æ¯
JSON.parse(localStorage.getItem('auth-storage') || '{}')

// æŸ¥çœ‹cookies
document.cookie.split(';').map(c => c.trim())
```

### æ‰‹åŠ¨ç™»å½•ï¼ˆè°ƒè¯•ç”¨ï¼‰
åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š
```javascript
localStorage.setItem('auth-storage', JSON.stringify({
  state: {
    user: {
      id: 1,
      username: 'debuguser',
      email: 'debug@test.com',
      displayName: 'Debug User'
    },
    isAuthenticated: true
  },
  version: 0
}));
document.cookie = "user_token=debug_token; path=/; max-age=86400";
document.cookie = "user_id=1; path=/; max-age=86400";
location.reload();
```

### æ‰‹åŠ¨é€€å‡ºï¼ˆè°ƒè¯•ç”¨ï¼‰
åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š
```javascript
localStorage.removeItem('auth-storage');
document.cookie = "user_token=; path=/; max-age=0";
document.cookie = "user_id=; path=/; max-age=0";
location.reload();
```

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£**
   - `USER_MENU_GUIDE.md` - è¯¦ç»†åŠŸèƒ½è¯´æ˜
   - `LOGIN_PROTECTION_GUIDE.md` - ç™»å½•ä¿æŠ¤è¯´æ˜
   - `EMAIL_REGISTRATION_SETUP.md` - æ³¨å†ŒåŠŸèƒ½è¯´æ˜

2. **æ£€æŸ¥æ—¥å¿—**
   - æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12 â†’ Consoleï¼‰
   - åç«¯æ—¥å¿—ï¼ˆå¦‚æœå¯åŠ¨äº†åç«¯ï¼‰

3. **é‡ç½®ç¯å¢ƒ**
   ```javascript
   // æ¸…é™¤æ‰€æœ‰æ•°æ®é‡æ–°å¼€å§‹
   localStorage.clear();
   document.cookie.split(";").forEach(c => {
     document.cookie = c.trim().split("=")[0] + "=;max-age=0;path=/";
   });
   location.reload();
   ```

---

**ç¥æµ‹è¯•é¡ºåˆ©ï¼** ğŸ‰

