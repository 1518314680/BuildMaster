# BuildMaster 装机模拟器 - 运行说明

## 项目结构
```
BuildMaster/
├── BuildMaster-API/          # 后端 Spring Boot 项目
│   ├── pom.xml              # Maven 依赖配置
│   └── src/main/java/       # Java 源代码
└── BuildMaster-UI/          # 前端 Next.js 项目
    ├── package.json         # NPM 依赖配置
    ├── tsconfig.json        # TypeScript 配置
    └── src/                 # React 源代码
```

## 环境要求

### 后端环境
- Java 21+
- Maven 3.6+
- MySQL 8.0+
- Redis 6.0+

### 前端环境
- Node.js 18+
- npm 9+

## 安装和运行步骤

### 1. 安装前端依赖
```bash
cd BuildMaster-UI
npm install
```

### 2. 安装后端依赖
```bash
cd BuildMaster-API
mvn clean install
```

### 3. 配置数据库
创建 MySQL 数据库：
```sql
CREATE DATABASE buildmaster;
```

### 4. 配置环境变量
创建 `BuildMaster-API/src/main/resources/application.yml`：
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/buildmaster?useSSL=false&serverTimezone=UTC
    username: your_username
    password: your_password
    driver-class-name: com.mysql.cj.jdbc.Driver
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
  
  data:
    redis:
      host: localhost
      port: 6379
      password: your_redis_password

server:
  port: 3001

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
```

### 5. 启动后端服务
```bash
cd BuildMaster-API
mvn spring-boot:run
```

后端服务将在 `http://localhost:3001` 启动

### 6. 启动前端服务
```bash
cd BuildMaster-UI
npm run dev
```

前端服务将在 `http://localhost:3000` 启动

## 开发命令

### 前端开发命令
```bash
# 开发模式
npm run dev

# 构建生产版本
npm run build

# 启动生产版本
npm start

# 代码检查
npm run lint

# 类型检查
npm run type-check
```

### 后端开发命令
```bash
# 编译项目
mvn compile

# 运行测试
mvn test

# 打包项目
mvn package

# 运行应用
mvn spring-boot:run

# 清理项目
mvn clean
```

## 主要功能

### 前端功能
- 🖥️ 装机配置器界面
- 🎨 3D 预览画布
- 📊 配置摘要和价格计算
- 💾 配置保存和加载
- 🔍 组件搜索和筛选

### 后端功能
- 🗄️ 组件数据管理
- 🔗 兼容性检查
- 💾 配置保存
- 🤖 AI 推荐系统
- 📊 价格监控

## 技术栈

### 前端
- **框架**: Next.js 14
- **语言**: TypeScript
- **样式**: Tailwind CSS
- **状态管理**: Zustand
- **动画**: Framer Motion
- **HTTP 客户端**: Axios

### 后端
- **框架**: Spring Boot 3.3
- **语言**: Java 21
- **数据库**: MySQL 8.0
- **缓存**: Redis
- **文档**: Swagger/OpenAPI
- **构建工具**: Maven

## 故障排除

### 常见问题

1. **端口冲突**
   - 前端默认端口: 3000
   - 后端默认端口: 3001
   - 如果端口被占用，请修改配置文件中的端口号

2. **数据库连接失败**
   - 检查 MySQL 服务是否启动
   - 验证数据库连接配置
   - 确认数据库用户权限

3. **Redis 连接失败**
   - 检查 Redis 服务是否启动
   - 验证 Redis 连接配置

4. **依赖安装失败**
   - 清理缓存: `npm cache clean --force` 或 `mvn clean`
   - 删除 node_modules 和 package-lock.json，重新安装
   - 检查网络连接和代理设置

### 日志查看
- 前端日志: 浏览器开发者工具控制台
- 后端日志: 控制台输出或日志文件

## 开发建议

1. **代码规范**: 使用 ESLint 和 Prettier 保持代码风格一致
2. **类型安全**: 充分利用 TypeScript 的类型检查
3. **测试**: 编写单元测试和集成测试
4. **文档**: 及时更新 API 文档和代码注释
5. **版本控制**: 使用 Git 进行版本管理，遵循 GitFlow 工作流

## 联系支持

如果遇到问题，请检查：
1. 环境配置是否正确
2. 依赖是否完整安装
3. 服务是否正常启动
4. 日志中的错误信息